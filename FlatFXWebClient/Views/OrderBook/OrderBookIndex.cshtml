@using FlatFXCore.BussinessLayer;

<div ng-controller="OrderBook" ng-init="init('@Html.Raw(ApplicationInformation.Instance.IsDemoUser)')">
    <div class="panel-danger form-horizontal ordr-book-panel">
        <div class="panel-heading">
            <h3 class="panel-title">Order Book</h3>
        </div>
        <div class="panel-body start-align">
            <div class="col-xs-12">
                <label class="col-xs-6" for="pairSelect">Select pair:</label>
                <div class="col-xs-6">
                    <select class="form-control" name="pairSelect" id="pairSelect" ng-model="Key" ng-options="k as v for (k,v) in Pairs" ng-change="changePair()"></select>
                </div>
            </div>
            <div class="col-xs-12">
                <label class="col-xs-6" for="minAmount">Partner min amount:</label>
                <div class="col-xs-6">
                    <input class="form-control" name="minAmount" id="minAmount" type="number" ng-model="minAmount" />
                </div>
            </div>
            <div class="col-xs-12">
                <label class="col-xs-6">Mid Rate:</label>
                <div class="col-xs-6">
                    <label class="form-control">{{ Key }} {{ MidRate }}</label>
                </div>
            </div>

            <div class="col-xs-12 text-center">
                <div class="col-xs-6">
                    <table class="table table-responsive table-bordered table-hover table-striped table-order-buy">
                        <colgroup>
                            <col class="col-sm-4" />
                            <col class="col-sm-3" />
                            <col class="col-sm-3" />
                            <col class="col-sm-2" />
                        </colgroup>
                        <thead>
                            <tr>
                                <th colspan="4" class="text-center">Buy</th>
                            </tr>
                            <tr>
                                <th>Partner</th>
                                <th>Max Amount</th>
                                <th>Min Amount</th>
                                <th>Promil</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="order in OrdersToBuy">
                                <td>{{ order.CompanyName }}</td>
                                <td>{{ order.MaxAmount | number:0 }}</td>
                                <td>{{ order.MinAmount | number:0 }}</td>
                                <td>{{ order.Promil }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-xs-6">
                    <table class="table table-responsive table-bordered table-hover table-striped table-order-sell">
                        <colgroup>
                            <col class="col-sm-2" />
                            <col class="col-sm-3" />
                            <col class="col-sm-3" />
                            <col class="col-sm-4" />
                        </colgroup>
                        <thead>
                            <tr>
                                <th colspan="4" class="text-center">Sell</th>
                            </tr>
                            <tr>
                                <th>Promil</th>
                                <th>Min Amount</th>
                                <th>Max Amount</th>
                                <th>Partner</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="order in OrdersToSell">
                                <td>{{ order.Promil }}</td>
                                <td>{{ order.MinAmount | number:0 }}</td>
                                <td>{{ order.MaxAmount | number:0 }}</td>
                                <td>{{ order.CompanyName }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
